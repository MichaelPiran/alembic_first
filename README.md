## Create PostgreSQL Database

Start a PostgreSQL container:
```sh
docker run --rm -d --name postgres -e POSTGRES_USER=myuser -e POSTGRES_PASSWORD=mypassword -p 5432:5432 postgres

docker run --rm -d --name mssql -e 'ACCEPT_EULA=Y' -e 'SA_PASSWORD=mypassword' -p 1433:1433 mcr.microsoft.com/mssql/server
```

Create a new database:
```sh
docker exec -it postgres psql -U myuser -c 'CREATE DATABASE mydb;'

docker exec -it mssql /opt/mssql-tools/bin/sqlcmd -S localhost -U SA -P 'mypassword' -Q 'CREATE DATABASE mydb;'
```

## Install Python Dependencies

Install necessary Python packages:
```sh
pip install psycopg2-binary sqlalchemy alembic
```

## Initialize Alembic

Initialize Alembic in your project:
```sh
alembic init alembic
```

### Autogenerate Migrations

Create an autogenerated migration:
```sh
alembic revision --autogenerate -m "Create a baseline migration"
```
Apply the migration:
```sh
alembic upgrade head
```

### Manual Migrations

Create a manual migration:
```sh
alembic revision -m "Create trigger on students table"
```
Apply the migration:
```sh
alembic upgrade head
```

## Useful Commands

Display the current revision for a database:
```sh
alembic current
```

View migrations history:
```sh
alembic history --verbose
```

Revert all migrations:
```sh
alembic downgrade base
```

Revert migrations one by one:
```sh
alembic downgrade -1
```

Apply all migrations:
```sh
alembic upgrade head
```

Apply migrations one by one:
```sh
alembic upgrade +1
```

Display all raw SQL:
```sh
alembic upgrade head --sql
```

Reset the database:
```sh
alembic downgrade base && alembic upgrade head
```